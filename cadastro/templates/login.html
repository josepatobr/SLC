{% extends "base.html" %}
{% load static %}
{% block 'title' %}Login{% endblock 'title' %}
{% block 'extra_head' %}
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="{% static 'js/login.js' %}" async defer></script>

    <meta name="google-signin-client_id" content="325709064395-i6ekj4gdhrmradqgeulted7hno887f9q.apps.googleusercontent.com">
{% endblock 'extra_head' %}


<style>
/* From Uiverse.io by cssbuttons-io */ 
.fancy {
    background-color: transparent;
    border: 2px solid #000;
    border-radius: 0;
    box-sizing: border-box;
    color: #fff;
    cursor: pointer;
    display: inline-block;
    float: right;
    font-weight: 700;
    letter-spacing: 0.05em;
    margin: 0;
    outline: none;
    overflow: visible;
    padding: 1.25em 2em;
    position: relative;
    text-align: center;
    text-decoration: none;
    text-transform: none;
    transition: all 0.3s ease-in-out;
    user-select: none;
    font-size: 13px;
}

.fancy::before {
    content: " ";
    width: 1.5625rem;
    height: 2px;
    background: black;
    top: 50%;
    left: 1.5em;
    position: absolute;
    transform: translateY(-50%);
    transform-origin: center;
    transition: background 0.3s linear, width 0.3s linear;
}

.fancy .text {
    font-size: 1.125em;
    line-height: 1.33333em;
    padding-left: 2em;
    display: block;
    text-align: left;
    transition: all 0.3s ease-in-out;
    text-transform: uppercase;
    text-decoration: none;
    color: black;
}

.fancy .top-key {
    height: 2px;
    width: 1.5625rem;
    top: -2px;
    left: 0.625rem;
    position: absolute;
    background: #e8e8e8;
    transition: width 0.5s ease-out, left 0.3s ease-out;
}

.fancy .bottom-key-1 {
    height: 2px;
    width: 1.5625rem;
    right: 1.875rem;
    bottom: -2px;
    position: absolute;
    background: #e8e8e8;
    transition: width 0.5s ease-out, right 0.3s ease-out;
}

.fancy .bottom-key-2 {
    height: 2px;
    width: 0.625rem;
    right: 0.625rem;
    bottom: -2px;
    position: absolute;
    background: #e8e8e8;
    transition: width 0.5s ease-out, right 0.3s ease-out;
}

.fancy:hover {
    color: white;
    background: black;
}

.fancy:hover::before {
    width: 0.9375rem;
    background: white;
}

.fancy:hover .text {
    color: white;
    padding-left: 1.5em;
}

.fancy:hover .top-key {
    left: -2px;
    width: 0px;
}

.fancy:hover .bottom-key-1,
    .fancy:hover .bottom-key-2 {
        right: 0;
        width: 0;
}



</style>


{% block 'body' %}
    <div class="bg-gray-100 flex items-center justify-center min-h-screen">
        <div class="bg-white p-8 rounded shadow-md w-full max-w-md">
            <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">Login</h2>
            
            <label for="opcao" class="block text-sm font-medium text-gray-700">Escolhe umas das formas de entradas:</label>
                <select id="opcao" name="opcao" class="mt-1 block w-full px-3 py-2 border rounded bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 flex text-center items-center justify-center">
                    <div class="text-center flex items-center justify-center">
                        <option  value="codigo-email">Entrar com código via email</option>
                        <option  value="codigo-sms">Entrar com código via sms (isso só serve se você adicionou o telefone no cadastro)</option>
                        <option  value="senha-email">Entrar com a senha e o email</option>
                    </div>
                </select>

            <div id="email-code-section" class="mt-4 hidden">
                <label for="email" class="block text-sm font-medium text-gray-700">Email:</label>
                <input type="email" id="email" name="email" class="mt-1 block w-full px-3 py-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>

            <div id="sms-code-section" class="mt-4 hidden">
                <label for="telefone" class="block text-sm font-medium text-gray-700">Telefone:</label>
                <input type="tel" id="telefone" name="telefone" class="mt-1 block w-full px-3 py-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>

            <div id="email-password-section" class="mt-4 hidden">
                <label for="login-email" class="block text-sm font-medium text-gray-700">Email:</label>
                <input type="email" id="login-email" name="login-email" class="mt-1 block w-full px-3 py-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">

                <label for="senha" class="block text-sm font-medium text-gray-700 mt-4">Senha:</label>
                <input type="password" id="senha" name="senha" class="mt-1 block w-full px-3 py-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <br>
            <button class="fancy" id="enviar">
                <span class="top-key"></span>
                <span class="text">entrar</span>
                <span class="bottom-key-1"></span>
                <span class="bottom-key-2"></span>
            </button>




            <div id="sms-code-section" class="mt-4 hidden">
                <label for="telefone" class="block text-sm font-medium text-gray-700">Telefone:</label>
                <input type="tel" id="code-telefone" name="telefone" class="mt-1 block w-full px-3 py-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">

                <button id="enviar-sms" class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                    Enviar código por SMS
                </button>

                <div id="campo-codigo-sms" class="mt-4 hidden">
                    <label for="codigo-sms" class="block text-sm font-medium text-gray-700">Código recebido:</label>
                    <input type="text" id="codigo-sms" name="codigo-sms" class="mt-1 block w-full px-3 py-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
            </div>


            <div id="email-code-section" class="mt-4 hidden">
                <label for="email" class="block text-sm font-medium text-gray-700">email:</label>
                <input type="email" id="code-email" name="email" class="mt-1 block w-full px-3 py-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">

                <button id="enviar-email" class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                    Enviar código por email
                </button>

                <div id="campo-codigo-email" class="mt-4 hidden">
                    <label for="codigo-email" class="block text-sm font-medium text-gray-700">Código recebido:</label>
                    <input type="text" id="codigo-email" name="codigo-email" class="mt-1 block w-full px-3 py-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
            </div>
            <br> 
            <br>


        
            <a class="fancy" href="/auth/cadastro/">
                <span class="top-key"></span>
                <span class="text">cadastro</span>
                <span class="bottom-key-1"></span>
                <span class="bottom-key-2"></span>
            </a>


            <br>


            <!-- GOOGLE -->
            <div id="g_id_onload"
                data-client_id="325709064395-i6ekj4gdhrmradqgeulted7hno887f9q.apps.googleusercontent.com"
                data-context="signin"
                data-callback="handleCredentialResponse"
                data-itp_support="true">
            </div>

            <div class="g_id_signin"
                data-type="standard"
                data-shape="rectangular"
                data-theme="outline"
                data-text="signin_with"
                data-size="large"
                data-logo_alignment="left">
            </div>
        </div>

        <!-- pop dos codigos -->
        <div id="popup-codigo" class="hidden fixed top-0 lelf-0 w-full h-full bg-black bg-opacity-5C z-[999]">
            <div class="bg-white p-5 my-[15%] mx-auto w-[300px] rounded-lg text-center">
                <span id="fechar-popup" class="float-right text-[20px] cursor-pointer">&times;</span>
                <p>Digite o código recebido:</p>
                    <input type="text" id="codigo-digitado" placeholder="Código">
                    <button id="confirmar-codigo">Confirmar</button>
            </div>
        </div>
    </div>
{% endblock 'body' %}
